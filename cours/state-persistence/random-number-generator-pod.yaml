apiVersion: v1
kind: Pod
metadata:
  name: random-number-generator
spec:
  containers:
    # container generating a random between 1 and 100 and writes that to a file at /data/number.out
    - image: alpine
      name: alpine
      command: ["/bin/sh","-c"]
      args: ["shuf -i 0-100 -n 1 >> /opt/number.out;"]
      # to mount the data-volume to the directory /opt within the container
      volumeMounts:
        - mountPath: /opt
          name: data-volume
  volumes:
    # To retain the number generated by the pod, we create a volume
    - name: data-volume
      # the Volume needs a storage, in this case I specify a path /data on the host.
      hostPath:
        path: /data
        type: Directory

#  -> The random number will now be written to /opt mount inside the container, which happens to be on the data-volume which is in fact /data directory on the host.
#  -> When the pod gets deleted, the file with the random number still lives on the host.
